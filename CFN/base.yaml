AWSTemplateFormatVersion: 2010-09-09
Description: AWS Config rules

Parameters:
  cfnTemplatesBucketURL:
    Type: String
    Default: "https://s3.amazonaws.com/fta-cloudformation-templates-us-east-1"
    Description: S3 Bucket URL containing CFN templates e.g. https://<name>.s3.amazonaws.com/<AWS_REGION>/<VERSION>

Resources:

  cfnStackLambdaGetTags:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Join [ "/", [ !Ref cfnTemplatesBucketURL, "aws-org-config-rules",  "GetTagsLambda.yaml"] ]
      TimeoutInMinutes: 10
  cfnStackLambdaGetInventory:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Join [ "/", [ !Ref cfnTemplatesBucketURL, "aws-org-config-rules",  "GetAccountInventoryLambda.yaml"] ]
      TimeoutInMinutes: 10
  cfnStackRDSTwo:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Join [ "/", [ !Ref cfnTemplatesBucketURL, "aws-org-config-rules",  "RDS_2.yaml"] ]
      TimeoutInMinutes: 10
  cfnStacklambdaOne:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Join [ "/", [ !Ref cfnTemplatesBucketURL, "aws-org-config-rules",  "Lambda_1.yaml"] ]
      TimeoutInMinutes: 10
  cfnStackEC2Fourteen:
    Type: AWS::CloudFormation::Stack
    Properties:
      TemplateURL: !Join [ "/", [ !Ref cfnTemplatesBucketURL, "aws-org-config-rules",  "EC2_14.yaml"] ]
      TimeoutInMinutes: 10
